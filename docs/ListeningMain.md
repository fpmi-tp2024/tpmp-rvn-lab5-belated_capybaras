# Описание главного файла (main.cpp)

Этот файл README содержит подробное описание работы главного файла `main.cpp`, который является точкой входа в программу управления базой данных для соревнований.

## Функции и их описание

### Функции создания объектов:
- **createAdmin(sqlite3* db, std::string sur)**: Создает объект администратора.
- **createJockey(sqlite3* db, std::string sur)**: Создает объект жокея.
- **createOwner(sqlite3* db, std::string sur)**: Создает объект владельца.

### Главная функция: int main()

- **Назначение**: Инициализация базы данных и управление процессом аутентификации и взаимодействия пользователя с системой.
- **Основные операции**:
  - **Открытие базы данных**: Пытается открыть базу данных по указанному пути. В случае неудачи выводит сообщение о ошибке и завершает программу.
  - **Аутентификация пользователя**: Создает объект для аутентификации и входит в бесконечный цикл, обрабатывающий действия пользователя.
  - **Создание объектов пользователя**: В зависимости от типа пользователя (владелец, жокей, администратор) создает соответствующий объект и управляет его действиями.
  - **Освобождение ресурсов и закрытие базы данных**: После выхода из цикла удаляет объект аутентификации и закрывает соединение с базой данных.

### Пример использования
```cpp
int main() {
    const char* db_path = "hippodrome.db";
    sqlite3* db;
    int rc = sqlite3_open(db_path, &db);
    if (rc) {
        std::cerr << "cannot open database\n";
        return 0;
    }
    
    Authentification* auth = new Authentification(db);
    Database*(*create[])(sqlite3*, std::string) = { createOwner, createJockey, createAdmin };
    while (true) {
        auth->loop();
        if (auth->getUserType()>=1 && auth->getUserType() <= 3) {
            Database* obj = create[auth->getUserType() - 1](db, auth->getSurname());
        }
    }

    delete auth;
    sqlite3_close(db);
    return 0;
}
